{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withModifiers as _withModifiers, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-0789ec5f\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"src\"];\nconst _hoisted_2 = {\n  class: \"poster__body\"\n};\nconst _hoisted_3 = {\n  class: \"poster__category\"\n};\nconst _hoisted_4 = {\n  class: \"poster__title\",\n  contenteditable: \"true\"\n};\nconst _hoisted_5 = {\n  class: \"poster__pushkin\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  style: {\n    \"font-size\": \"13px\"\n  }\n};\nconst _hoisted_8 = {\n  class: \"poster__date\"\n};\nconst _hoisted_9 = {\n  class: \"poster__time\"\n};\nconst _hoisted_10 = {\n  class: \"poster__rate\"\n};\nconst _hoisted_11 = {\n  class: \"poster__venue\",\n  contenteditable: \"true\"\n};\nconst _hoisted_12 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_my_cropper = _resolveComponent(\"my-cropper\");\n  const _component_my_modal = _resolveComponent(\"my-modal\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_my_modal, {\n    show: $data.isVisible,\n    \"onUpdate:show\": _cache[0] || (_cache[0] = $event => $data.isVisible = $event)\n  }, {\n    default: _withCtx(() => [_createVNode(_component_my_cropper, {\n      image: $data.currentImage,\n      onUpgradeimage: $options.upgradeImage,\n      size: $data.cropperSize\n    }, null, 8 /* PROPS */, [\"image\", \"onUpgradeimage\", \"size\"])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"show\"]), _createElementVNode(\"div\", {\n    class: \"poster\",\n    onDragover: _cache[2] || (_cache[2] = _withModifiers(() => {}, [\"prevent\"])),\n    onDrop: _cache[3] || (_cache[3] = $event => $options.dragDrop($event))\n  }, [_createElementVNode(\"img\", {\n    src: $data.event.image,\n    alt: \"image\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.openModal && $options.openModal(...args))\n  }, null, 8 /* PROPS */, _hoisted_1), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"p\", _hoisted_3, _toDisplayString($data.event.category), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_4, _toDisplayString($data.event.title), 1 /* TEXT */), _createElementVNode(\"p\", _hoisted_5, [$data.event.is_pushkin_card ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"Пушкинская карта\")) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"p\", _hoisted_7, [_createElementVNode(\"span\", _hoisted_8, _toDisplayString($data.event.date), 1 /* TEXT */), _createTextVNode(), _createElementVNode(\"span\", _hoisted_9, _toDisplayString($options.updateTime), 1 /* TEXT */), _createTextVNode(), _createElementVNode(\"span\", _hoisted_10, _toDisplayString($data.event.rate), 1 /* TEXT */)]), _createElementVNode(\"p\", _hoisted_11, _toDisplayString($data.event.venue), 1 /* TEXT */), _createElementVNode(\"a\", {\n    class: \"poster__price\",\n    href: $data.event.link,\n    target: \"_blank\"\n  }, _toDisplayString($options.splitPrice), 9 /* TEXT, PROPS */, _hoisted_12)])], 32 /* HYDRATE_EVENTS */)], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","contenteditable","style","_createVNode","_component_my_modal","show","$data","isVisible","$event","_component_my_cropper","image","currentImage","onUpgradeimage","$options","upgradeImage","size","cropperSize","_createElementVNode","onDragover","_cache","_withModifiers","onDrop","dragDrop","src","event","alt","onClick","args","openModal","_hoisted_2","_hoisted_3","_toDisplayString","category","_hoisted_4","title","_hoisted_5","is_pushkin_card","_createElementBlock","_hoisted_6","_hoisted_7","_hoisted_8","date","_hoisted_9","updateTime","_hoisted_10","rate","_hoisted_11","venue","href","link","target","splitPrice","_hoisted_12"],"sources":["D:\\jobs\\calculator-and-templateBS\\frontend\\src\\components\\email-templater\\PosterTemplate.vue"],"sourcesContent":["<template>\r\n    <my-modal v-model:show=\"isVisible\">\r\n        <my-cropper\r\n            :image=\"currentImage\"\r\n            @upgradeimage=\"upgradeImage\"\r\n            :size=\"cropperSize\"\r\n        ></my-cropper>\r\n    </my-modal>\r\n    <div\r\n            class=\"poster\"\r\n            @dragover.prevent\r\n            @drop=\"dragDrop($event)\"\r\n    >\r\n        <img\r\n                :src=\"event.image\"\r\n                alt=\"image\"\r\n                @click=\"openModal\"\r\n        >\r\n        <div class=\"poster__body\">\r\n            <p class=\"poster__category\">{{ event.category }}</p>\r\n            <p class=\"poster__title\" contenteditable=\"true\">{{ event.title }}</p>\r\n            <p class=\"poster__pushkin\"><span v-if=\"event.is_pushkin_card\">Пушкинская карта</span></p>\r\n            <p style=\"font-size: 13px\">\r\n                <span class=\"poster__date\">{{ event.date }}</span> <span class=\"poster__time\">{{ updateTime }}</span> <span class=\"poster__rate\">{{ event.rate }}</span>\r\n            </p>\r\n            <p class=\"poster__venue\" contenteditable=\"true\">{{ event.venue }}</p>\r\n            <a class=\"poster__price\" :href=\"event.link\" target=\"_blank\" >{{ splitPrice }}</a>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport plugImage from '@/assets/img/plug300.png'\r\nimport MyModal from \"@/components/UI/MyModal.vue\";\r\nimport ViolettButton from \"@/components/UI/ViolettButton.vue\";\r\nimport MyCropper from \"@/components/UI/MyCropper.vue\";\r\n\r\nexport default {\r\n    components: {MyCropper, ViolettButton, MyModal},\r\n    data() {\r\n        return {\r\n            event: {\r\n                category: 'Категория',\r\n                title: 'Название',\r\n                is_pushkin_card: false,\r\n                date: 'Дата',\r\n                time: 'Время',\r\n                rate: '0+',\r\n                venue: 'Место',\r\n                price: '0',\r\n                image: plugImage\r\n            },\r\n            isVisible: false,\r\n            currentImage: plugImage,\r\n            cropperSize: {\r\n                width: 300,\r\n                height: 425\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        dragDrop(event) {\r\n            const data = JSON.parse(event.dataTransfer.getData('event'))\r\n            this.event = Object.assign(this.event, data)\r\n            this.currentImage = data.image\r\n        },\r\n        openModal() {\r\n            this.isVisible = true\r\n        },\r\n        crop() {\r\n            const {coordinates, canvas,} = this.$refs.cropper.getResult();\r\n            this.coordinates = coordinates;\r\n            this.event.image = canvas.toDataURL();\r\n            this.isVisible = false\r\n        },\r\n        upgradeImage(image, oldImage) {\r\n            this.event.image = image\r\n            this.currentImage = oldImage\r\n            this.isVisible = false\r\n        }\r\n    },\r\n    computed: {\r\n        splitPrice: function () {\r\n            return this.event.price.split('—').length > 1 ? `от ${this.event.price.split('—')[0]} Р` : `${this.event.price.split('—')[0]} Р`\r\n        },\r\n        updateTime: function () {\r\n            return `в ${this.event.time}`\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.poster {\r\n  width: 177px;\r\n  border-radius: 6px;\r\n  overflow: hidden;\r\n  border: 1px #ccc solid;\r\n  box-shadow: 0 1px 6px #ccc;\r\n  margin-bottom: 30px;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n\r\n  img {\r\n    width: 100%;\r\n    height: 234px;\r\n    display: block;\r\n    background: transparent;\r\n  }\r\n\r\n  &__body {\r\n    height: 228px;\r\n    width: 100%;\r\n    padding: 0 10px;\r\n    border-top: 1px #bebebe solid;\r\n  }\r\n\r\n  &__category {\r\n    font-size: 12px;\r\n    color: #de39a2;\r\n    font-weight: normal;\r\n    padding-top: 6px;\r\n  }\r\n\r\n  &__pushkin {\r\n    height: 15px;\r\n    margin: 5px 0;\r\n    font-size: 12px;\r\n    color: #de39a2;\r\n    font-weight: normal;\r\n  }\r\n\r\n  &__title {\r\n    height: 50px;\r\n    margin-top: 10px;\r\n    overflow: hidden;\r\n  }\r\n\r\n  &__time {\r\n    color: #868686;\r\n  }\r\n\r\n  &__rate {\r\n    background-color: #bebebe;\r\n    color: #fff;\r\n    font-size: 10px;\r\n    padding: 1px 2px;\r\n    border-radius: 2px;\r\n    vertical-align: top;\r\n  }\r\n\r\n  &__venue {\r\n    font-size: 13px;\r\n    font-weight: normal;\r\n    color: #868686;\r\n    height: 50px;\r\n    margin: 5px 0;\r\n  }\r\n\r\n  &__price {\r\n    text-decoration: none;\r\n    font-weight: normal;\r\n    background-color: #8e4adf;\r\n    display: block;\r\n    width: 148px;\r\n    border: none;\r\n    border-radius: 50px;\r\n    color: #ffffff;\r\n    font-family: sans-serif;\r\n    font-size: 16px;\r\n    text-align: center;\r\n    padding: 7px 10px;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":";;;;EAkBaA,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAkB;;EACxBA,KAAK,EAAC,eAAe;EAACC,eAAe,EAAC;;;EACtCD,KAAK,EAAC;AAAiB;;;;;EACvBE,KAAuB,EAAvB;IAAA;EAAA;AAAuB;;EAChBF,KAAK,EAAC;AAAc;;EAA+BA,KAAK,EAAC;AAAc;;EAA+BA,KAAK,EAAC;AAAc;;EAEjIA,KAAK,EAAC,eAAe;EAACC,eAAe,EAAC;;;;;;6DAxBjDE,YAAA,CAMWC,mBAAA;IANOC,IAAI,EAAEC,KAAA,CAAAC,SAAS;yDAATD,KAAA,CAAAC,SAAS,GAAAC,MAAA;;sBAC7B,MAIc,CAJdL,YAAA,CAIcM,qBAAA;MAHTC,KAAK,EAAEJ,KAAA,CAAAK,YAAY;MACnBC,cAAY,EAAEC,QAAA,CAAAC,YAAY;MAC1BC,IAAI,EAAET,KAAA,CAAAU;;;+BAGfC,mBAAA,CAoBM;IAnBEjB,KAAK,EAAC,QAAQ;IACbkB,UAAQ,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,CAAT,QAAiB;IAChBC,MAAI,EAAAF,MAAA,QAAAA,MAAA,MAAAX,MAAA,IAAEK,QAAA,CAAAS,QAAQ,CAACd,MAAM;MAE1BS,mBAAA,CAIC;IAHQM,GAAG,EAAEjB,KAAA,CAAAkB,KAAK,CAACd,KAAK;IACjBe,GAAG,EAAC,OAAO;IACVC,OAAK,EAAAP,MAAA,QAAAA,MAAA,UAAAQ,IAAA,KAAEd,QAAA,CAAAe,SAAA,IAAAf,QAAA,CAAAe,SAAA,IAAAD,IAAA,CAAS;uCAEzBV,mBAAA,CASM,OATNY,UASM,GARFZ,mBAAA,CAAoD,KAApDa,UAAoD,EAAAC,gBAAA,CAArBzB,KAAA,CAAAkB,KAAK,CAACQ,QAAQ,kBAC7Cf,mBAAA,CAAqE,KAArEgB,UAAqE,EAAAF,gBAAA,CAAlBzB,KAAA,CAAAkB,KAAK,CAACU,KAAK,kBAC9DjB,mBAAA,CAAyF,KAAzFkB,UAAyF,GAAlD7B,KAAA,CAAAkB,KAAK,CAACY,eAAe,I,cAAjCC,mBAAA,CAA0D,QAAAC,UAAA,EAAvB,kBAAgB,K,qCAC9ErB,mBAAA,CAEI,KAFJsB,UAEI,GADAtB,mBAAA,CAAkD,QAAlDuB,UAAkD,EAAAT,gBAAA,CAApBzB,KAAA,CAAAkB,KAAK,CAACiB,IAAI,kB,oBAAWxB,mBAAA,CAAkD,QAAlDyB,UAAkD,EAAAX,gBAAA,CAApBlB,QAAA,CAAA8B,UAAU,kB,oBAAW1B,mBAAA,CAAkD,QAAlD2B,WAAkD,EAAAb,gBAAA,CAApBzB,KAAA,CAAAkB,KAAK,CAACqB,IAAI,iB,GAElJ5B,mBAAA,CAAqE,KAArE6B,WAAqE,EAAAf,gBAAA,CAAlBzB,KAAA,CAAAkB,KAAK,CAACuB,KAAK,kBAC9D9B,mBAAA,CAAiF;IAA9EjB,KAAK,EAAC,eAAe;IAAEgD,IAAI,EAAE1C,KAAA,CAAAkB,KAAK,CAACyB,IAAI;IAAEC,MAAM,EAAC;sBAAarC,QAAA,CAAAsC,UAAU,wBAAAC,WAAA,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}