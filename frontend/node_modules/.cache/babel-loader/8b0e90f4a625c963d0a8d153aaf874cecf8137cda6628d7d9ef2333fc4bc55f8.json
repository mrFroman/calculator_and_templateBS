{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nimport _imports_0 from '@/assets/img/header.jpg';\nimport _imports_1 from '@/assets/img/footer.jpg';\nconst _hoisted_1 = {\n  class: \"main__panel\"\n};\nconst _hoisted_2 = {\n  class: \"email\"\n};\nconst _hoisted_3 = {\n  class: \"email__template\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"header\"\n}, [/*#__PURE__*/_createElementVNode(\"p\", {\n  class: \"not-correct\"\n}, [/*#__PURE__*/_createTextVNode(\"Если письмо отображается некорректно, то \"), /*#__PURE__*/_createElementVNode(\"a\", {\n  href: \"#\"\n}, \"смотрите здесь\")]), /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\"\n})], -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"footer\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_1,\n  alt: \"\"\n})], -1 /* HOISTED */);\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_events_upload = _resolveComponent(\"events-upload\");\n  const _component_choose_template = _resolveComponent(\"choose-template\");\n  const _component_violett_button = _resolveComponent(\"violett-button\");\n  const _component_events_list = _resolveComponent(\"events-list\");\n  const _component_email_template = _resolveComponent(\"email-template\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_events_upload, {\n    onLoadEvents: $options.getEvents,\n    ref: \"replaceEvent\"\n  }, null, 8 /* PROPS */, [\"onLoadEvents\"]), _createVNode(_component_choose_template, {\n    onChoose: $options.choose\n  }, null, 8 /* PROPS */, [\"onChoose\"]), _createVNode(_component_violett_button, {\n    style: {\n      \"margin\": \"0\"\n    },\n    onClick: $options.getDemoEvents\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Получить демоданные из базы данных \")]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onClick\"])]), _createVNode(_component_events_list, {\n    events: $data.events,\n    onRemove: $options.removeEvent\n  }, null, 8 /* PROPS */, [\"events\", \"onRemove\"]), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createVNode(_component_email_template, {\n    template: $data.template\n  }, null, 8 /* PROPS */, [\"template\"]), _hoisted_5])])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","class","_createElementVNode","href","src","alt","_createElementBlock","_hoisted_1","_createVNode","_component_events_upload","onLoadEvents","$options","getEvents","ref","_component_choose_template","onChoose","choose","_component_violett_button","style","onClick","getDemoEvents","_component_events_list","events","$data","onRemove","removeEvent","_hoisted_2","_hoisted_3","_hoisted_4","_component_email_template","template","_hoisted_5"],"sources":["D:\\jobs\\calculator-and-templateBS\\frontend\\src\\pages\\TemplaterPage.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"main__panel\">\r\n      <events-upload\r\n          @loadEvents=\"getEvents\"\r\n          ref=\"replaceEvent\"\r\n      />\r\n      <choose-template\r\n          @choose=\"choose\"\r\n      />\r\n      <violett-button\r\n          style=\"margin: 0\"\r\n          @click=\"getDemoEvents\"\r\n      >\r\n        Получить демоданные из базы данных\r\n      </violett-button>\r\n    </div>\r\n    <events-list\r\n        :events=\"events\"\r\n        @remove=\"removeEvent\"\r\n    />\r\n    <div class=\"email\">\r\n      <div class=\"email__template\">\r\n        <div class=\"header\">\r\n          <p class=\"not-correct\">Если письмо отображается некорректно, то <a href=\"#\">смотрите здесь</a></p>\r\n          <img src=\"@/assets/img/header.jpg\" alt=\"\">\r\n        </div>\r\n        <email-template\r\n            :template=\"template\"\r\n        />\r\n        <div class=\"footer\">\r\n          <img src=\"@/assets/img/footer.jpg\" alt=\"\">\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport EventsList from '@/components/email-templater/EventsList.vue'\r\nimport EventsUpload from '@/components/email-templater/EventsUpload.vue';\r\nimport ChooseTemplate from '@/components/email-templater/ChooseTemplate.vue';\r\nimport EmailTemplate from \"@/components/email-templater/EmailTemplate.vue\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  components: {\r\n    EmailTemplate,\r\n    EventsList,\r\n    EventsUpload,\r\n    ChooseTemplate\r\n  },\r\n  data() {\r\n    return {\r\n      events: [],\r\n      template: 'Формат не выбран'\r\n    }\r\n  },\r\n  methods: {\r\n    removeEvent(event) {\r\n      this.events = this.events.filter(element => element.id !== event.id)\r\n    },\r\n    choose(button) {\r\n      this.template = button.data\r\n    },\r\n    getEvents(eventsArray) {\r\n      Promise.all(eventsArray.map(link => {\r\n        axios.get(`http://localhost:3000/events?link=${link}`)\r\n            .then(response => this.events.push(response.data))\r\n      }))\r\n    },\r\n    getDemoEvents() {\r\n      axios.get(`http://localhost:3000/events/demo`)\r\n          .then(response => this.events.push(...response.data))\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.email {\r\n  margin-right: 5px;\r\n  &::-webkit-scrollbar {\r\n    width: 5px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-thumb {\r\n    background: #B0B0B0;\r\n    border-radius: 50px;\r\n  }\r\n\r\n  &::-webkit-scrollbar-track {\r\n    background: #F5F5F5;\r\n  }\r\n}\r\n\r\n.not-correct {\r\n  margin: 5px 5px 20px 5px;\r\n  text-align: center;\r\n  color: #919191;\r\n}\r\n\r\na {\r\n  color: #919191;\r\n}\r\n</style>\r\n"],"mappings":";OAyBeA,UAA6B;OAM7BC,UAA6B;;EA7BnCC,KAAK,EAAC;AAAa;;EAmBnBA,KAAK,EAAC;AAAO;;EACXA,KAAK,EAAC;AAAiB;gCAC1BC,mBAAA,CAGM;EAHDD,KAAK,EAAC;AAAQ,I,aACjBC,mBAAA,CAAkG;EAA/FD,KAAK,EAAC;AAAa,I,8BAAC,2CAAyC,G,aAAAC,mBAAA,CAA8B;EAA3BC,IAAI,EAAC;AAAG,GAAC,gBAAc,E,gBAC1FD,mBAAA,CAA0C;EAArCE,GAA6B,EAA7BL,UAA6B;EAACM,GAAG,EAAC;;gCAKzCH,mBAAA,CAEM;EAFDD,KAAK,EAAC;AAAQ,I,aACjBC,mBAAA,CAA0C;EAArCE,GAA6B,EAA7BJ,UAA6B;EAACK,GAAG,EAAC;;;;;;;;;uBA9B/CC,mBAAA,CAkCM,cAjCJJ,mBAAA,CAcM,OAdNK,UAcM,GAbJC,YAAA,CAGEC,wBAAA;IAFGC,YAAU,EAAEC,QAAA,CAAAC,SAAS;IACtBC,GAAG,EAAC;6CAERL,YAAA,CAEEM,0BAAA;IADGC,QAAM,EAAEJ,QAAA,CAAAK;EAAM,uCAEnBR,YAAA,CAKiBS,yBAAA;IAJbC,KAAiB,EAAjB;MAAA;IAAA,CAAiB;IAChBC,OAAK,EAAER,QAAA,CAAAS;;sBACX,MAED,C,iBAFC,sCAED,E;;oCAEFZ,YAAA,CAGEa,sBAAA;IAFGC,MAAM,EAAEC,KAAA,CAAAD,MAAM;IACdE,QAAM,EAAEb,QAAA,CAAAc;mDAEbvB,mBAAA,CAaM,OAbNwB,UAaM,GAZJxB,mBAAA,CAWM,OAXNyB,UAWM,GAVJC,UAGM,EACNpB,YAAA,CAEEqB,yBAAA;IADGC,QAAQ,EAAEP,KAAA,CAAAO;EAAQ,uCAEvBC,UAEM,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}