{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-4ec5a678\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = [\"draggable\"];\nconst _hoisted_2 = {\n  class: \"card__body\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Дата: \", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Цена: \", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"strong\", null, \"Ценз: \", -1 /* HOISTED */));\nconst _hoisted_6 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_7 = {\n  class: \"card__buttons\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_pink_button = _resolveComponent(\"pink-button\");\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: \"events__card\",\n    draggable: $data.isDraggable,\n    onDragstart: _cache[2] || (_cache[2] = $event => $options.dragStart($event, $props.event))\n  }, [_createElementVNode(\"h4\", null, _toDisplayString($props.event.title), 1 /* TEXT */), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", null, [_hoisted_3, _createTextVNode(_toDisplayString($props.event.date), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_hoisted_4, _createTextVNode(_toDisplayString($options.isDone.price), 1 /* TEXT */)]), _createElementVNode(\"div\", null, [_hoisted_5, _createElementVNode(\"span\", null, _toDisplayString($options.isDone.rate), 1 /* TEXT */)]), $data.errors ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, _toDisplayString($data.errors), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_pink_button, {\n    onClick: _cache[0] || (_cache[0] = $event => $options.updateEvent($event, true))\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Заменить \")]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_pink_button, {\n    onClick: _cache[1] || (_cache[1] = $event => $options.updateEvent($props.event, false))\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Удалить \")]),\n    _: 1 /* STABLE */\n  })])])], 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_1);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","draggable","$data","isDraggable","onDragstart","_cache","$event","$options","dragStart","$props","event","_toDisplayString","title","_hoisted_2","_hoisted_3","date","_hoisted_4","isDone","price","_hoisted_5","rate","errors","_hoisted_6","_hoisted_7","_createVNode","_component_pink_button","onClick","updateEvent"],"sources":["D:\\jobs\\calculator-and-templateBS\\frontend\\src\\components\\email-templater\\EventsItem.vue"],"sourcesContent":["<template>\r\n    <div class=\"events__card\"\r\n         :draggable=\"isDraggable\"\r\n         @dragstart=\"dragStart($event, event)\"\r\n    >\r\n        <h4>{{ event.title }}</h4>\r\n        <div class=\"card__body\">\r\n            <div><strong>Дата: </strong>{{ event.date }}</div>\r\n            <div><strong>Цена: </strong>{{ isDone.price }}</div>\r\n            <div><strong>Ценз: </strong><span>{{ isDone.rate }}</span></div>\r\n            <div class=\"error\" v-if=\"errors\">\r\n                {{ errors }}\r\n            </div>\r\n            <div class=\"card__buttons\">\r\n                <pink-button\r\n                        @click=\"updateEvent($event, true)\"\r\n                >\r\n                    Заменить\r\n                </pink-button>\r\n                <pink-button\r\n                        @click=\"updateEvent(event, false)\"\r\n                >\r\n                    Удалить\r\n                </pink-button>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport PinkButton from '../UI/PinkButton.vue';\r\n\r\n\r\nexport default {\r\n    emits: ['remove'],\r\n    components: {\r\n        PinkButton\r\n    },\r\n    props: {\r\n        event: {\r\n            type: Object,\r\n            required: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            errors: '',\r\n            isDraggable: true\r\n        }\r\n    },\r\n    methods: {\r\n        dragStart(event, currentEvent) {\r\n            event.dataTransfer.dropEffect = 'copy'\r\n            event.dataTransfer.effectAllowed = 'copy'\r\n            event.dataTransfer.setData('event', JSON.stringify(currentEvent));\r\n        },\r\n        updateEvent() {\r\n            this.$emit('remove')\r\n        }\r\n    },\r\n    computed: {\r\n        isDone() {\r\n            const rateArray = ['0+', '6+', '12+', '16+', '18+']\r\n            if (!rateArray.includes(this.event.rate)) {\r\n                this.errors += 'Не верный ценз '\r\n                this.isDraggable = false\r\n            }\r\n\r\n            if (this.event.price === 'Нет цены') {\r\n                this.errors += 'Нет цены '\r\n                this.isDraggable = false\r\n            }\r\n\r\n            return this.event\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.events__card[draggable=true] {\r\n  width: 190px;\r\n  height: 190px;\r\n  border: 1px #ccc solid;\r\n  border-radius: 6px;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  gap: 5px;\r\n  background-color: #fff;\r\n  user-select: none;\r\n\r\n  &:hover {\r\n    cursor: move;\r\n    background-color: #f7f7f7;\r\n    color: #8e4adf;\r\n  }\r\n}\r\n\r\n.events__card[draggable=false] {\r\n  cursor: no-drop;\r\n  width: 190px;\r\n  height: 190px;\r\n  border: 1px red solid;\r\n  border-radius: 6px;\r\n  padding: 10px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  gap: 5px;\r\n  background-color: rgba(255, 0, 0, .1);\r\n  user-select: none;\r\n}\r\n\r\nh4 {\r\n  margin-bottom: 5px;\r\n  height: 100px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.card__body {\r\n  div:not(:first-child) {\r\n    margin-top: 10px;\r\n\r\n    span {\r\n      padding: 2px 5px;\r\n      font-weight: bold;\r\n      font-size: 12px;\r\n      border-radius: 6px;\r\n      color: #fff;\r\n      background-color: #bebebe;\r\n    }\r\n  }\r\n}\r\n\r\n.card__buttons {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.error {\r\n  color: red;\r\n  text-align: center;\r\n}\r\n</style>\r\n"],"mappings":";;;;EAMaA,KAAK,EAAC;AAAY;gEACdC,mBAAA,CAAuB,gBAAf,QAAM;gEACdA,mBAAA,CAAuB,gBAAf,QAAM;gEACdA,mBAAA,CAAuB,gBAAf,QAAM;;;EACdD,KAAK,EAAC;;;EAGNA,KAAK,EAAC;AAAe;;;uBAZlCE,mBAAA,CA2BM;IA3BDF,KAAK,EAAC,cAAc;IACnBG,SAAS,EAAEC,KAAA,CAAAC,WAAW;IACtBC,WAAS,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,SAAS,CAACF,MAAM,EAAEG,MAAA,CAAAC,KAAK;MAEpCX,mBAAA,CAA0B,YAAAY,gBAAA,CAAnBF,MAAA,CAAAC,KAAK,CAACE,KAAK,kBAClBb,mBAAA,CAoBM,OApBNc,UAoBM,GAnBFd,mBAAA,CAAkD,cAA7Ce,UAAuB,E,kCAAGL,MAAA,CAAAC,KAAK,CAACK,IAAI,iB,GACzChB,mBAAA,CAAoD,cAA/CiB,UAAuB,E,kCAAGT,QAAA,CAAAU,MAAM,CAACC,KAAK,iB,GAC3CnB,mBAAA,CAAgE,cAA3DoB,UAAuB,EAAApB,mBAAA,CAA8B,cAAAY,gBAAA,CAArBJ,QAAA,CAAAU,MAAM,CAACG,IAAI,iB,GACvBlB,KAAA,CAAAmB,MAAM,I,cAA/BrB,mBAAA,CAEM,OAFNsB,UAEM,EAAAX,gBAAA,CADCT,KAAA,CAAAmB,MAAM,oB,mCAEbtB,mBAAA,CAWM,OAXNwB,UAWM,GAVFC,YAAA,CAIcC,sBAAA;IAHLC,OAAK,EAAArB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAoB,WAAW,CAACrB,MAAM;;sBACjC,MAED,C,iBAFC,YAED,E;;MACAkB,YAAA,CAIcC,sBAAA;IAHLC,OAAK,EAAArB,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAoB,WAAW,CAAClB,MAAA,CAAAC,KAAK;;sBAChC,MAED,C,iBAFC,WAED,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}